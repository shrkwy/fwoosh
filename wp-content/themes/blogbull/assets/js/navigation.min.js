var blogbull=blogbull||{};blogbull.scrolled=0,Element.prototype.closest||(Element.prototype.closest=function(a){var b=this;do{if(b.matches(a))return b;b=b.parentElement||b.parentNode}while(null!==b&&1===b.nodeType);return null}),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(a,b){var c,d=this.length;for(b=b||window,c=0;c<d;c++)a.call(b,this[c],c,this)}),blogbull.createEvent=function(a){var b;return"function"==typeof window.Event?b=new Event(a):(b=document.createEvent("Event"),b.initEvent(a,!0,!1)),b},Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(a){for(var b=(this.document||this.ownerDocument).querySelectorAll(a),c=b.length;0<=--c&&b.item(c)!==this;);return-1<c}),blogbull.touchEnabled={init:function(){("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch||function(){["(",["-webkit-","-moz-","-o-","-ms-"].join("touch-enabled),("),"heartz",")"].join("")}())&&document.body.classList.add("touch-enabled")}},blogbull.coverModals={init:function(){document.querySelector(".cover-modal")&&(this.onToggle(),this.outsideUntoggle(),this.closeOnEscape(),this.hideAndShowModals())},onToggle:function(){document.querySelectorAll(".cover-modal").forEach(function(a){a.addEventListener("toggled",function(a){var b=a.target,c=document.body;b.classList.contains("active")?c.classList.add("showing-modal"):(c.classList.remove("showing-modal"),c.classList.add("hiding-modal"),setTimeout(function(){c.classList.remove("hiding-modal")},500))})})},outsideUntoggle:function(){document.addEventListener("click",function(a){var b=a.target,c=document.querySelector(".cover-modal.active");"a"===a.target.tagName.toLowerCase()&&a.target.hash.includes("#")&&null!==c&&(this.untoggleModal(c),setTimeout(function(){var b=document.getElementById(a.target.hash.slice(1));b.scrollIntoView()},550)),b===c&&this.untoggleModal(b)}.bind(this))},closeOnEscape:function(){document.addEventListener("keydown",function(a){27===a.keyCode&&(a.preventDefault(),document.querySelectorAll(".cover-modal.active").forEach(function(a){this.untoggleModal(a)}.bind(this)))}.bind(this))},hideAndShowModals:function(){function a(a){var b,c=d.pageYOffset;return g?(b=c+g.getBoundingClientRect().height,a?-b:b):0===c?0:-c}function b(){d.innerHeight>c.documentElement.getBoundingClientRect().height;return{}}var c=document,d=window,e=c.querySelectorAll(".cover-modal"),f=c.documentElement.style,g=c.querySelector("#wpadminbar");e.forEach(function(c){c.addEventListener("toggle-target-before-inactive",function(e){var h=b(),i=d.pageYOffset,j=Math.abs(a())-i+"px",k=d.matchMedia("(max-width: 600px)");e.target!==c||(Object.keys(h).forEach(function(a){f.setProperty(a,h[a])}),d.blogbull.scrolled=parseInt(h.top,10),g&&k.matches&&(i>=a()?c.style.setProperty("top",0):c.style.setProperty("top",a()-i+"px")),c.classList.add("show-modal"))}),c.addEventListener("toggle-target-after-inactive",function(a){a.target!==c||setTimeout(function(){var a=blogbull.toggles.clickedEl;c.classList.remove("show-modal"),Object.keys(b()).forEach(function(a){f.removeProperty(a)}),g&&c.style.removeProperty("top"),!1!==a&&(a.focus(),a=!1)},500)})})},untoggleModal:function(a){var b,c=!1;a.dataset.modalTargetString&&(b=a.dataset.modalTargetString,c=document.querySelector("*[data-toggle-target=\""+b+"\"]")),c?c.click():a.classList.remove("active")}},blogbull.modalMenu={init:function(){this.expandLevel(),this.keepFocusInModal()},expandLevel:function(){var a=document.querySelectorAll(".modal-menu");a.forEach(function(a){var b=a.querySelector(".current-menu-item");b&&blogbullFindParents(b,"li").forEach(function(a){var b=a.querySelector(".sub-menu-toggle");b&&blogbull.toggles.performToggle(b,!0)})})},keepFocusInModal:function(){var a=document;a.addEventListener("keydown",function(b){var c,d,e,f,g,h,i,j,k,l,m,n=blogbull.toggles.clickedEl;n&&a.body.classList.contains("showing-modal")&&(c=n.dataset.toggleTarget,e="input, a, button",d=a.querySelector(c),f=d.querySelectorAll(e),f=Array.prototype.slice.call(f),".menu-modal"===c&&(g=g?".expanded-menu":".mobile-menu",f=f.filter(function(a){return null!==a.closest(g)&&null!==a.offsetParent}),f.unshift(a.querySelector(".close-nav-toggle")),h=a.querySelector(".menu-bottom > nav"),h&&h.querySelectorAll(e).forEach(function(a){f.push(a)})),j=f[f.length-1],k=f[0],i=a.activeElement,l=9===b.keyCode,m=b.shiftKey,!m&&l&&j===i&&(b.preventDefault(),k.focus()),m&&l&&k===i&&(b.preventDefault(),j.focus()))})}},blogbull.primaryMenu={init:function(){this.focusMenuWithChildren()},focusMenuWithChildren:function(){function a(){for(var a=this;-1===a.className.indexOf("primary-menu");)"li"===a.tagName.toLowerCase()&&(-1===a.className.indexOf("focus")?a.className+=" focus":a.className=a.className.replace(" focus","")),a=a.parentElement}var b,c,d,e=document.querySelector(".primary-menu-wrapper");if(!e)return!1;for(b=e.getElementsByTagName("a"),c=0,d=b.length;c<d;c++)b[c].addEventListener("focus",a,!0),b[c].addEventListener("blur",a,!0)}},blogbull.toggles={clickedEl:!1,init:function(){this.toggle(),this.resizeCheck(),this.untoggleOnEscapeKeyPress()},performToggle:function(a,b){var c,d,e,f=this,g=document,h=a,i=h.dataset.toggleTarget;g.querySelectorAll(".show-modal").length||(f.clickedEl=g.activeElement),c="next"===i?h.nextSibling:g.querySelector(i),c.classList.contains("active")?c.dispatchEvent(blogbull.createEvent("toggle-target-before-active")):c.dispatchEvent(blogbull.createEvent("toggle-target-before-inactive")),e=h.dataset.classToToggle?h.dataset.classToToggle:"active",d=0,c.classList.contains("cover-modal")&&(d=10),setTimeout(function(){var a,d=c.classList.contains("sub-menu"),j=d?h.closest(".menu-item").querySelector(".sub-menu"):c,k=h.dataset.toggleDuration;"slidetoggle"!==h.dataset.toggleType||b||"0"===k?j.classList.toggle(e):blogbullMenuToggle(j,k),"next"===i?h.classList.toggle("active"):c.classList.contains("sub-menu")?h.classList.toggle("active"):g.querySelector("*[data-toggle-target=\""+i+"\"]").classList.toggle("active"),blogbullToggleAttribute(h,"aria-expanded","true","false"),f.clickedEl&&-1!==h.getAttribute("class").indexOf("close-")&&blogbullToggleAttribute(f.clickedEl,"aria-expanded","true","false"),h.dataset.toggleBodyClass&&g.body.classList.toggle(h.dataset.toggleBodyClass),h.dataset.setFocus&&(a=g.querySelector(h.dataset.setFocus),a&&(c.classList.contains("active")?a.focus():a.blur())),c.dispatchEvent(blogbull.createEvent("toggled")),c.classList.contains("active")?c.dispatchEvent(blogbull.createEvent("toggle-target-after-active")):c.dispatchEvent(blogbull.createEvent("toggle-target-after-inactive"))},d)},toggle:function(){var a=this;document.querySelectorAll("*[data-toggle-target]").forEach(function(b){b.addEventListener("click",function(c){c.preventDefault(),a.performToggle(b)})})},resizeCheck:function(){document.querySelectorAll("*[data-untoggle-above], *[data-untoggle-below], *[data-toggle-above], *[data-toggle-below]").length&&window.addEventListener("resize",function(){var a=window.innerWidth,b=document.querySelectorAll(".toggle");b.forEach(function(b){var c=b.dataset.untoggleAbove,d=b.dataset.untoggleBelow,e=b.dataset.toggleAbove,f=b.dataset.toggleBelow;!c&&!d&&!e&&!f||((c&&a>c||d&&a<d)&&b.classList.contains("active")||(e&&a>e||f&&a<f)&&!b.classList.contains("active"))&&b.click()})})},untoggleOnEscapeKeyPress:function(){document.addEventListener("keyup",function(a){"Escape"===a.key&&document.querySelectorAll("*[data-untoggle-on-escape].active").forEach(function(a){a.classList.contains("active")&&a.click()})})}};function blogbullDomReady(a){return"function"==typeof a?"interactive"===document.readyState||"complete"===document.readyState?a():void document.addEventListener("DOMContentLoaded",a,!1):void 0}blogbullDomReady(function(){blogbull.toggles.init(),blogbull.coverModals.init(),blogbull.modalMenu.init(),blogbull.primaryMenu.init(),blogbull.touchEnabled.init()});function blogbullToggleAttribute(a,b,c,d){var e;a.hasAttribute(b)&&(c===void 0&&(c=!0),d===void 0&&(d=!1),e=document.querySelectorAll("[data-toggle-target=\""+a.dataset.toggleTarget+"\"]"),e.forEach(function(a){a.hasAttribute(b)&&(a.getAttribute(b)===c?a.setAttribute(b,d):a.setAttribute(b,c))}))}function blogbullMenuToggle(a,b){var c,d,e,f,g,h=[],i=[];a&&(e=a.closest(".menu-wrapper"),f=e.querySelectorAll(".menu-item"),f.forEach(function(a,b){h[b]={x:a.offsetLeft,y:a.offsetTop}}),c=a.parentElement.offsetHeight,a.classList.add("toggling-target"),a.classList.toggle("active"),f.forEach(function(a,b){i[b]={x:a.offsetLeft,y:a.offsetTop}}),d=a.parentElement.offsetHeight,a.classList.toggle("active"),e.classList.add("is-toggling"),a.classList.toggle("active"),f.forEach(function(b,d){var e=h[d];0===e.y&&b.parentElement===a&&(e.y=c),b.style.transform="translate("+e.x+"px, "+e.y+"px)"}),requestAnimationFrame(function(){requestAnimationFrame(function(){e.classList.add("is-animating"),f.forEach(function(c,e){var f=i[e];0===f.y&&c.parentElement===a&&(f.y=d),b!==void 0&&(c.style.transitionDuration=b+"ms"),c.style.transform="translate("+f.x+"px, "+f.y+"px)"}),b!==void 0&&(a.style.transitionDuration=b+"ms")}),g=function(){e.classList.remove("is-animating"),e.classList.remove("is-toggling"),a.classList.remove("toggling-target"),f.forEach(function(a){a.style.transform="",a.style.transitionDuration=""}),a.style.transitionDuration="",a.removeEventListener("transitionend",g)},a.addEventListener("transitionend",g)}))}function blogbullFindParents(a,b){function c(a){var e=a.parentNode;e instanceof HTMLElement&&(e.matches(b)&&d.push(e),c(e))}var d=[];return c(a),d}